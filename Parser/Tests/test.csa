//Compiled using RAGE-C by Tustin 4/25/2017
:__script_entry__
Function 0 2 0
//Auto assigning 14 statics
push_4
StaticSet1 0 //mainMenu
PushString "Player"
push_0
pStatic1 0 //&mainMenu
ArraySet1 1
PushString "Vehicle"
push_1
pStatic1 0 //&mainMenu
ArraySet1 1
PushString "Weapons"
push_2
pStatic1 0 //&mainMenu
ArraySet1 1
PushString "World"
push_3
pStatic1 0 //&mainMenu
ArraySet1 1
push_0
StaticSet1 5 //Menus_MAIN_MENU
push_1
StaticSet1 6 //Menus_PLAYER_MENU
push_2
StaticSet1 7 //Menus_VEHICLE_MENU
push_3
StaticSet1 8 //Menus_WEAPON_MENU
push_4
StaticSet1 9 //Menus_WORLD_MENU
push_0
StaticSet1 10 //PlayerMenu_GODMODE
push_1
StaticSet1 11 //PlayerMenu_INFINITE_AMMO
push_0
StaticSet1 12 //currentMenu
push_0
StaticSet1 13 //currentOption
push_0
StaticSet1 14 //open
StaticSet1 15 //currentMenuHeight
push_0
StaticSet1 16 //lastButtonPress
push1 200
StaticSet1 17 //buttonPressDelay
Call @main
Return 0 0

:draw_text
Function 5 12 0
getF1 1 //font
CallNative SET_TEXT_FONT 1 0
getF1 4 //size
getF1 4 //size
CallNative SET_TEXT_SCALE 2 0
push1 255
push1 255
push1 255
push1 255
CallNative SET_TEXT_COLOUR 4 0
CallNative SET_TEXT_OUTLINE 0 0
PushString "STRING"
CallNative BEGIN_TEXT_COMMAND_DISPLAY_TEXT 1 0
getF1 0 //text
CallNative ADD_TEXT_COMPONENT_SUBSTRING_PLAYER_NAME 1 0
getF1 2 //x
getF1 3 //y
CallNative END_TEXT_COMMAND_DISPLAY_TEXT 2 0
Return 5 0

:show_notification
Function 1 4 0
PushString "STRING"
CallNative BEGIN_TEXT_COMMAND_PRINT 1 0
getF1 0 //message
CallNative ADD_TEXT_COMPONENT_SUBSTRING_PLAYER_NAME 1 0
pushS 2000
push_1
CallNative END_TEXT_COMMAND_PRINT 2 0
Return 1 0

:draw_menu_title
Function 1 4 0
getF1 0 //title
push_1
fpush 0.839844
fpush 0.191832
fpush 1.05
Call @draw_text
Return 1 0

:draw_menu_option
Function 2 7 0
getF1 1 //index
ItoF
fpush 0.026094
Mult
setF1 5 //temp
getF1 0 //option
push_1
fpush 0.729657
fpush 0.256478
getF1 5 //temp
Add
fpush 0.4375
Call @draw_text
Return 2 0

:draw_background
Function 1 5 0
getF1 0 //items
ItoF
fpush 0.026094
Mult
setF1 4 //tmpHeight
getF1 4 //tmpHeight
fpush 0.030943
Mult
setF1 4 //tmpHeight
fpush 0.840576
fpush 0.248187
getF1 4 //tmpHeight
Add
fpush 0.249766
getF1 4 //tmpHeight
push_0
push_0
push_0
push1 60
CallNative DRAW_RECT 8 0
Return 1 0

:draw_menu
Function 0 4 0
PushString "Goy Menu"
Call @draw_menu_title
push_0
setF1 3 //menuItems
StaticGet1 12 //currentMenu
Switch [0=@selection_0_case_0][1=@selection_0_case_1]
Jump @switch_end_0
:selection_0_case_0
push_0
setF1 4 //i
:loop_0
getF1 4 //i
pStatic1 0 //&mainMenu
ArrayGet1 1
getF1 4 //i
Call @draw_menu_option
getF1 4 //i
Add1 1
setF1 4 //i
getF1 4 //i
push_4
JumpLT @loop_0
push_4
setF1 3 //menuItems
Jump @switch_end_0
:selection_0_case_1
push_2
setF1 3 //menuItems
Jump @switch_end_0
:switch_end_0
getF1 3 //menuItems
Call @draw_background
Return 0 0

:delayed_key_press
Function 1 4 0
CallNative GET_GAME_TIMER 0 1
StaticGet1 16 //lastButtonPress
Sub
StaticGet1 17 //buttonPressDelay
JumpGE @selection_end_1
push_0
Return 1 1
Jump @selection_end_1
:selection_end_1
push_2
getF1 0 //control
CallNative IS_DISABLED_CONTROL_PRESSED 2 1
JumpFalse @selection_end_2
CallNative GET_GAME_TIMER 0 1
StaticSet1 16 //lastButtonPress
push_1
Return 1 1
Jump @selection_end_2
:selection_end_2
push_0
Return 1 1

:disable_phone
Function 0 4 0
PushString "test"
push_0
pStatic1 0 //&mainMenu
ArraySet1 1
push_0
pStatic1 0 //&mainMenu
ArrayGet1 1
setF1 3 //item_1
push_0
pStatic1 0 //&mainMenu
ArrayGet1 1
PushString "test"
JumpNE @selection_end_3
Jump @selection_end_3
:selection_end_3
push_1
JumpNE @selection_end_4
push_0
setGlobal2 10589 //Global_10589
setF1 4 //testing
Jump @selection_end_4
:selection_end_4
Return 0 0

:handle_input
Function 0 2 0
push1 203
Call @delayed_key_press
push_1
JumpNE @selection_else_5
PushString "pressed down"
Call @show_notification
StaticGet1 13 //currentOption
Add1 1
StaticSet1 13 //currentOption
StaticGet1 12 //currentMenu
Switch [0=@selection_6_case_0]
Jump @switch_end_6
:selection_6_case_0
StaticGet1 13 //currentOption
push_3
JumpNE @selection_end_7
push_0
StaticSet1 13 //currentOption
Jump @selection_end_7
:selection_end_7
Jump @switch_end_6
:switch_end_6
Jump @selection_end_5
:selection_else_5
push1 204
Call @delayed_key_press
push_1
JumpNE @selection_else_8
PushString "pressed left"
Call @show_notification
Jump @selection_end_8
:selection_else_8
push1 195
Call @delayed_key_press
push_1
JumpNE @selection_end_9
push_0
StaticSet1 14 //open
PushString "closed"
Call @show_notification
Jump @selection_end_9
:selection_end_9
Jump @selection_end_8
:selection_end_8
Jump @selection_end_5
:selection_end_5
Return 0 0

:main
Function 0 3 0
:loop_1
StaticGet1 14 //open
Not
JumpFalse @selection_else_10
push_2
push1 204
CallNative IS_DISABLED_CONTROL_PRESSED 2 1
push_2
push1 201
CallNative IS_DISABLED_CONTROL_PRESSED 2 1
And
JumpFalse @selection_end_11
push_1
StaticSet1 14 //open
push_0
StaticSet1 12 //currentMenu
push_0
StaticSet1 13 //currentOption
CallNative GET_GAME_TIMER 0 1
StaticSet1 16 //lastButtonPress
PushString "menu "
setF1 3 //first
PushString "opened"
pFrame1 3 //&first
strcat 64
getF1 3 //first
Call @show_notification
Jump @selection_end_11
:selection_end_11
Jump @selection_end_10
:selection_else_10
Call @draw_menu
Call @handle_input
Jump @selection_end_10
:selection_end_10
push_0
CallNative wait 1 0
Jump @loop_1
Return 0 0

